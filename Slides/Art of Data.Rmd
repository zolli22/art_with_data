---
title: "The Art of Data"
subtitle: "making fun and pretty graphs in RStudio"  
author: 
  - "Ingrid Zoll"
date: 
  - "January 17 & 19, 2023"
output:
  xaringan::moon_reader:
    css: custom-theme.css
    nature:
      slideNumberFormat: "%current%"
      highlightStyle: solarized-dark
      highlightLines: true
      ratio: 16:9
      countIncrementalSlides: true
      
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(
  fig.width=9, fig.height=3.5, fig.retina=3,
  out.width = "100%",
  cache = FALSE,
  echo = TRUE,
  message = FALSE, 
  warning = FALSE,
  hiline = TRUE
)
```

```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer)
style_solarized_light()

library(tidyverse)
library(here)
```

name: intro
## Getting Started

- **Welcome!**

- Who am I?

- Who are you?

---
## Disclaimers:

- Many of the graphs shown today **will not** be informative or helpful.

---
## Disclaimers:

- Many of the graphs shown today **will not** be informative or helpful.

- This class **will not** teach you how to make informative and helpful graphs.

---
## Disclaimers:

- Many of the graphs shown today **will not** be informative or helpful.

- This class **will not** teach you how to make informative and helpful graphs.

- Hopefully, this class **will** teach you how to make fun and/or visually pleasing graphs.

---
## Thoughts on Misleading Graphs

> _With great power comes great responsibility_ 

---
## Some of my inspiration

<iframe width="840" height="472" src="https://www.youtube.com/embed/iqaVe1MCTlA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

---

<img src="https://i.redd.it/j6e6aajstfba1.png" alt="Tarantino's Cinematic Network" height="575px" />

[Tarantino's Cinematic Network of Actors](https://www.reddit.com/r/dataisbeautiful/comments/1098bth/oc_tarantinos_cinematic_network_of_actors/)

--- 
class: inverse center middle

# But that's not why we are here today...
So let's get to it!

---

## Packages

```{r}
# all hail the tidyverse!
library(tidyverse)
```

## How do I find cool R packages?

---
class: center middle


## google it

---

## Chart Type Resources

- [The R Graph Gallery](https://r-graph-gallery.com/index.html)
- [From Data to Viz](https://www.data-to-viz.com/#explore)

---
## Colors

INSERT STUFF HERE
---

## Chord diagram example

.left-column[
```{r, echo = T}
library(circlize)
```
]

.right-column[
<img src="https://pltfrmrsrcscdn.sagepub.com/srm/images/chord-diagram-in-routesonline-2019/10.4135_9781529773996-fig7.jpg" alt="Routes chord diagram" height="500px" />

[Chord diagram](https://methods.sagepub.com/dataset/chord-diagram-in-routesonline-2019)
]
---

<img src="~/Desktop/my brain is noisy/Paideia 2023/Images/chord.gif" alt="Tarantino's Cinematic Network" height="575px" />


```{r echo=FALSE, out.width='100%'}
knitr::include_graphics(here("Images/chord.gif"))
```



---


### Data

Game of Thrones battle data from [Kaggle](https://www.kaggle.com/mylesoneill/game-of-thrones?select=battles.csv)

```{r, echo = F}
got <- read_csv(here("Data/got_battles.csv"))

attackers <- got %>%
  select(3, 6:9) %>%
  pivot_longer(cols=c(attacker_1, attacker_2, attacker_3, attacker_4), 
               names_to="val", values_to="attacker") %>%
  filter(!is.na(attacker)) %>%
  select(1, 3)

defenders <- got %>%
  select(3, 10:13) %>%
  pivot_longer(cols=c(defender_1, defender_2, defender_3, defender_4), 
               names_to="val", values_to="defender") %>%
  filter(!is.na(defender)) %>%
  select(1, 3)

battles <- attackers %>%
  full_join(defenders, by="battle_number") %>%
  select(2:3) %>%
  count(attacker, defender) %>%
  rename("from"="attacker", "to"="defender", "value"="n") %>%
  filter(!is.na(to)) 
  
merged <- battles %>%
  pivot_longer(cols=c(from, to), names_to="position", values_to="house", names_repair = "unique") %>%
  count(house) %>%
  arrange(desc(n)) %>%
  filter(n > 2)

top_houses <- merged$house

final_houses <- battles %>%
  filter(from %in% top_houses, to %in% top_houses)
```

```{r}
head(got)
```
---

### Graph attempt 1 

```{r}
chordDiagram(battles)
```

---

### Graph attempt 2

```{r}
chordDiagram(final_houses)
```

Filtered so both attacking and defending house are involved in 2 or more battles

---

## Colors
```{r, echo = F}
library(scales)
```

```{r, echo = T}
library(tvthemes)
show_col(westeros_pal(palette = "Stark")(6))
```

---

## custom color palette
```{r, echo = F}
tv_cols <- c("Baratheon" = "#FFD700","Lannister" = "#89080A",
             "Greyjoy" = "#000000","Stark" = "#174d79",
             "Mormont" = "#cadde1","Tully" = "#8b5b45", 
             "Frey" = "#4682b4","Bolton" = "#015202", 
             "Glover" = "#DCDCDC","Karstark" = "#7b906f")
show_col(tv_cols)
```

---

## all together now!
```{r, echo = F}
chordDiagram(final_houses, grid.col = tv_cols)
```

---

## game of thrones battles


```{r echo=FALSE, out.width='100%'}
knitr::include_graphics(here("Images/got_battle.jpeg"))
```

---
  
## Start with the basics
```{r basic plot, echo = F}
ggplot(penguins, aes(x = bill_length_mm, y = body_mass_g, color = species))+
  geom_point()
```

---
  
## Adjust `ggplot2` aesthetics
```{r, echo = F}
ggplot(penguins, aes(x = bill_length_mm, y = body_mass_g, color = species))+
  geom_point()+
  theme_bw()
```

---
## Then you can start applying other effects
```{r, echo = T}
library(ggdark)
library(ggshadow)
```

```{r, echo = F}
ggplot(penguins, aes(x = bill_length_mm, y = body_mass_g, color = species))+
  geom_glowpoint()+
  dark_theme_linedraw()
```

---
  
## more neon!
```{r, echo = T}
library(ggfx)
```

```{r}
ggplot(penguins, aes(x = bill_length_mm, y = body_mass_g))+
  dark_theme_linedraw()+
  with_outer_glow(geom_point(data=filter(penguins, species == 'Adelie'),fill="white"),
                  colour="dodgerblue", sigma=4, expand=2)+
  with_outer_glow(geom_point(data=filter(penguins, species == 'Gentoo'),fill="white"),
                  colour="deeppink", sigma=4, expand=2)+
  with_outer_glow(geom_point(data=filter(penguins, species == 'Chinstrap'),fill="white"),
                  colour="yellow", sigma=4, expand=2)
```

---
  
## themes!
```{r, echo = T}
library(ggpomological)
```
```{r}
ggplot(penguins, aes(x = bill_length_mm, y = body_mass_g, color = species))+
  geom_point()+
  scale_color_pomological()+
  theme_pomological()
```

---
  
  ## fancier!
```{r}
ggplot(penguins, aes(x = bill_length_mm, y = body_mass_g, color = species))+
  geom_point()+
  scale_color_pomological()+
  theme_pomological("Homemade Apple", 16)
```

---
  
  ## ggcute
```{r, echo = T}
library(ggcute)
```
```{r}
ggplot(penguins, aes(x = bill_length_mm, y = body_mass_g, color = species))+
  geom_point()+
  scale_color_fairyfloss()+
  theme_fairyfloss()
```

---
  
```{r}
ggplot(penguins, aes(x = bill_length_mm, y = body_mass_g, color = species))+
  geom_point()+
  scale_color_sugarpill()+
  theme_sugarpill()
```

---


--- 
class: inverse center middle

# Other Random Packages


---
## Package: `cowsay`

```{r}

```


---
class: center, middle

# Thank you!

Questions? Contact me at zolli@reed.edu

Slides created via the R packages:

[**xaringan**](https://github.com/yihui/xaringan)<br>
[gadenbuie/xaringanthemer](https://github.com/gadenbuie/xaringanthemer)

